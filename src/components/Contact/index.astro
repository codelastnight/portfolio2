---
import ShinyButton from "../ShinyButton.astro";
import battery from "./battery.svg?raw";
import email from "./email.svg?raw";
import signal from "./signal.svg?raw";
---

<script>
  // Find all buttons with the `modal` class on the page.
  const buttons = document.querySelectorAll("button[data-contact]");

  // Handle clicks on each button.
  buttons.forEach((button) => {
    const id = "contact-form";
    button.addEventListener("click", () => {
      const element = window.document.getElementById(id) as HTMLDialogElement;
      element.showModal();
    });
  });
</script>

<dialog id="contact-form" class="max-w-lg w-full">
  <div class="phone">
    <header class="flex justify-between items-center px-2 py-1">
      <Fragment set:html={signal} />
      <Fragment set:html={email} />
      <Fragment set:html={battery} />
    </header>

    <div class="content">
      <div class="hero">
        <h1 class="text-4xl">
          Simon Zhang is available in the following addresses:
        </h1>
      </div>
      <div></div>
      <div>
        <form method="dialog">
          <menu>
            <ShinyButton
              type="submit"
              value="cancel"
              width="4rem"
              height="3rem"
              radius="0.5rem"
            >
              Cancel
            </ShinyButton>
          </menu>
        </form>
      </div>
    </div>
  </div>
</dialog>

<style lang="postcss">
.wrapper {
    padding: var(--f1);
    max-width: 40rem;
    width: 100%;
    margin: 0 auto;
    position: relative;

}
dialog {
  @apply rounded-xl;
}
dialog::backdrop {
  @apply bg-black/75;
  box-shadow: inset 0em 0em 5rem rgb(178, 178, 180);
}
.phone {
    --contactfg: #eee;
    --contactbg: #222;
    color: var(--contactfg);
    width: 100%;

    position: relative;

    color: #FFF;
    background: #000;
    background-clip: padding-box; /* !importanté */
    border: solid 3px transparent; /* !importanté */
    @apply rounded-xl;
    box-shadow: 0px 4px 11px 0px rgba(0, 0, 0, 0.527);

}
.phone:before {
  content: '';
  position: absolute;
  inset: 0;
  z-index: -1;
  margin: -3px; /* !importanté */
  border-radius: inherit; /* !importanté */
  background: linear-gradient(180deg, #000000 0%, #979797 0.01%, #D0D0D0 15.1%, #FFFFFF 31.77%, #CCCCCC 57.29%, #999999 100%);
}
.white {
    color: var(--contactfg);
}

.topbar {
    background-color: var(--contactbg);
    width: 100%;
    padding: 0.25em 1em;
    border-top-left-radius: $borderRadius;
    border-top-right-radius: $borderRadius;

}

.content {
    background-image: linear-gradient(45deg, #1a1a1a 25%, #5c5c5c 25%, #5c5c5c 50%, #1a1a1a 50%, #1a1a1a 75%, #5c5c5c 75%, #5c5c5c 100%);
    background-size: 8px 8px;
    border-radius: inherit;
    padding: 0.5em;
    box-shadow: inset 0em 0em 0.5rem rgb(0, 0, 0);

}
form {
    color: var(--contactbg);
    background: var(--contactfg);
    border-radius: 0.25em;
    padding: 0.25rem 0.5rem;
}

 

.hero {
    @apply py-3 px-3 relative z-[1];

}



.hero::before {
  content: '';
    position: absolute;
    inset: 0;
    padding: 0.2rem;
    width: inherit;
    height: inherit;
    z-index: -1;
    background-color: var(--contactbg);
    filter: blur(8px);

}

.herobg__inner {
    width: 100%;
    height: 100%;
    opacity: 1;
    

}

.hero__content {
    padding: 0 0.5em;
    max-width: 30em;
}
.paragraph {
    text-indent: 4em;
    max-width: 25em;
    margin: 1em 0;
}
    </style>
