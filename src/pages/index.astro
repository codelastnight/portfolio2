---
import { SITE } from "../config";
import BaseHead from "../components/BaseHead.astro";
import { Debug } from "astro:components";
import { getCollection } from 'astro:content';

let { title } = SITE;
let description = "The perfect starter for your perfect blog.";

// Data Fetching: List all Markdown posts in the repo.

const allPosts = (await getCollection('work')).sort(
	(a, b) => a.data.pubDate.valueOf() - b.data.pubDate.valueOf()
)

// Full Astro Component Syntax:
// https://docs.astro.build/core-concepts/astro-components/
---

<html lang='en'>
  <head>
    <BaseHead {title} {description}  />
  </head>

  <body>
    <div class='wrapper'>
      <main class='content'>
        <section class='intro'>
          <h1 class='latest'>{title}</h1>
          <p>{description}</p>
        </section>

        <section aria-label='Blog post list'>
          {allPosts.map((post) => (
           <p> a:
            {post.id}
            </p>
          
           ))}
        </section>
      </main>
      <footer>
        <a href='/admin'>Admin Dashboard üîê</a>
      </footer>
    </div>
  </body>
</html>
